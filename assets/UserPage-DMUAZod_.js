import{r as i,aq as f,A as g,d as v,f as o,w as s,v as w,R as b,F as c,o as k,t as $,y as V}from"./index-Dg2giWPB.js";import{Q as _}from"./QTable-3oblDBao.js";import{_ as y}from"./CardHeader-Ck0pnQTa.js";import{_ as Q}from"./UserForm-Cidro3-q.js";import{U}from"./User-BAHJpOL2.js";import"./QMarkupTable-Cu8ARG0q.js";import"./listsStore-Bw9IUtwH.js";import"./use-fullscreen-CN3CPtpO.js";import"./List-AFUfvQgg.js";import"./LoadingAbsolute-CN7wdAYj.js";import"./Api-C7W-rtBK.js";import"./InputSelectArray-mbT6dUkg.js";const T={__name:"UserPage",setup(R){const t=i(""),r=i(!1),n=f([]),u=i(!1),d=[{name:"name",label:"Nama",align:"left",field:"name",sortable:!0},{name:"username",label:"Username",align:"left",field:"username",sortable:!0},{name:"roles",label:"Group (Role)",align:"left",field:a=>a.roles.join(", "),sortable:!0},{name:"kelompok",label:"Kelompok",align:"left",field:"kelompok",sortable:!0},{name:"must_change_password",label:"Ganti Password",align:"left",field:"must_change_password",format:a=>`${a?"Ya":"Tidak"}`,sortable:!0}];async function m(){try{r.value=!0,n.value=[];const a=await U.getAll();n.value=a.users}catch(a){console.log("error get users ",a)}finally{r.value=!1}}return g(async()=>{await m()}),(a,e)=>(k(),v(c,null,[o(w,null,{default:s(()=>[o(y,{title:"Data Pengguna",onOnReload:m,"show-add":!0,onOnAdd:e[0]||(e[0]=l=>u.value=!0)}),o(_,{class:"q-px-sm",rows:n.value,columns:d,"row-key":"name",loading:r.value,filter:t.value,onRowClick:e[2]||(e[2]=(l,p,C)=>a.$router.push(`/settings/users/${p.id}`)),"rows-per-page-options":[25,50,75,100,0]},{"top-right":s(()=>[o($,{outlined:"",dense:"",debounce:"300",modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value=l),placeholder:"Cari"},{append:s(()=>[o(V,{name:"search"})]),_:1},8,["modelValue"])]),_:1},8,["rows","loading","filter"])]),_:1}),o(b,{modelValue:u.value,"onUpdate:modelValue":e[5]||(e[5]=l=>u.value=l)},{default:s(()=>[o(Q,{onSuccessDelete:e[3]||(e[3]=()=>a.$router.go(-1)),onSuccessSubmit:e[4]||(e[4]=l=>a.$router.push(`/settings/users/${l.id}`))})]),_:1},8,["modelValue"])],64))}};export{T as default};
