import{c as A,u as T,a as L,h as I,r as p,b as Q,d as y,e as b,o as f,f as a,w as n,Q as S,g as v,i as M,j as m,k as x,l as h,F as P,m as B,n as e,p as V,q,s as N,t as C,v as U,x as z,y as O,z as H}from"./index-BzBqOEeb.js";import{A as $}from"./Auth-DDYOGJtW.js";import"./Api-2nXffOpC.js";const j='<rect x="0" y="0" width="100" height="100" fill="none"></rect><g transform="translate(25 25)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.9"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g><g transform="translate(75 25)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.8"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0.1s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g><g transform="translate(25 75)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.7"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0.3s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g><g transform="translate(75 75)"><rect x="-20" y="-20" width="40" height="40" fill="currentColor" opacity="0.6"><animateTransform attributeName="transform" type="scale" from="1.5" to="1" repeatCount="indefinite" begin="0.2s" dur="1s" calcMode="spline" keySplines="0.2 0.8 0.2 0.8" keyTimes="0;1"></animateTransform></rect></g>',E=A({name:"QSpinnerCube",props:T,setup(k){const{cSize:o,classes:l}=L(k);return()=>I("svg",{class:l.value,width:o.value,height:o.value,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",innerHTML:j})}}),F={key:0},K={__name:"BannerInstallPWA",setup(k){const o=()=>{const d=window.navigator.userAgent;return[{regex:/windows/i,name:"Windows"},{regex:/android/i,name:"Android"},{regex:/(iphone|ipad|ipod)/i,name:"iOS"},{regex:/linux/i,name:"Linux"},{regex:/mac/i,name:"Mac/iOS"}].find(({regex:_})=>_.test(d))?.name||"Unknown OS"},l=()=>o()==="iOS",w=()=>o()==="Android",c=()=>l()||w(),i=p(!1),r=p(null);window.addEventListener("beforeinstallprompt",d=>{d.preventDefault(),r.value=d});const u=p(window.matchMedia("(display-mode: standalone)").matches),t=Q(()=>!u.value&&c()),g=()=>{r.value&&(r.value.prompt(),r.value.userChoice.then(d=>{d.outcome==="accepted"?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt")}),r.value=null)};return(d,s)=>t.value?(f(),y("div",F,[a(V,{class:"q-mb-md bg-orange-1 rounded-borders",bordered:""},{default:n(()=>[a(S,{class:""},{default:n(()=>[a(v,null,{default:n(()=>[a(M,null,{default:n(()=>[...s[1]||(s[1]=[m(" Instal aplikasi untuk mendapatkan pengalaman lebih baik! ",-1)])]),_:1})]),_:1}),a(v,{side:""},{default:n(()=>[w()?(f(),x(h,{key:0,class:"px-2 text-orange-1",color:"orange-10",onClick:g,"no-caps":"",icon:"install_mobile"},{default:n(()=>[...s[2]||(s[2]=[m(" Instal ",-1)])]),_:1})):b("",!0),l()?(f(),x(h,{key:1,class:"px-2 text-orange-1",color:"orange-10",onClick:s[0]||(s[0]=_=>i.value=!i.value),"no-caps":"",icon:"install_mobile"},{default:n(()=>[...s[3]||(s[3]=[m(" Instal ",-1)])]),_:1})):b("",!0)]),_:1})]),_:1}),i.value?(f(),y(P,{key:0},[a(B),a(S,null,{default:n(()=>[a(v,null,{default:n(()=>[...s[4]||(s[4]=[e("p",{class:"text-subtitle2 no-margin"},"Bagi Pengguna iOS!",-1),e("ul",{class:"tw:ml-4 tw:text-sm tw:font-light tw:list-decimal tw:list-outside"},[e("li",null,[m(" Pastikan Anda menggunakan browser "),e("span",{class:"tw:font-semibold"},"Safari"),m("; ")]),e("li",null," Ketuk ikon bagikan (sebuah kotak dengan panah ke atas di bagian bawah layar); "),e("li",null," Gulir ke bawah dalam menu bagikan dan pilih opsi “Tambahkan ke Layar Utama”; "),e("li",null," Anda mungkin akan diminta untuk memberikan nama dan mengonfigurasi ikon; "),e("li",null," Ketuk “Tambahkan” di pojok kanan atas layar untuk menyelesaikan proses; ")],-1)])]),_:1})]),_:1})],64)):b("",!0)]),_:1})])):b("",!0)}},R={class:"tw:flex tw:justify-center tw:items-center tw:h-screen tw:p-4 tw:max-w-sm tw:mx-auto"},W={class:"tw:w-full"},D={class:"tw:border tw:border-gray-300 tw:p-4 tw:rounded-lg bg-orange-2"},G={class:"text-center q-my-md"},Y={class:"q-gutter-y-md column"},ee={__name:"LoginPage",setup(k){const o=p(""),l=p(""),w=z(),c=p(!0),i=p(!1),r=()=>{i.value=!0,$.login({login:o.value,password:l.value}).then(u=>{H().login(u),u.user.must_change_password?w.replace("/profile"):w.replace("/")}).catch(u=>console.log("error on login ",u)).finally(()=>i.value=!1)};return(u,t)=>(f(),y("div",R,[e("div",W,[a(K),e("div",D,[e("div",G,[a(q,{round:"",color:"",size:"100px"},{default:n(()=>[...t[3]||(t[3]=[e("img",{alt:"logo",src:"/logo.svg"},null,-1)])]),_:1})]),t[5]||(t[5]=e("div",{class:"tw:text-2xl text-center q-my-md tw:font-light"},"Halaman Login",-1)),e("form",{onSubmit:N(r,["prevent"])},[e("div",Y,[a(C,{"bg-color":"orange-1",outlined:"",label:"Login",name:"login",modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=g=>o.value=g),required:"",hint:"Username atau email/surel Anda!",autocomplete:"off",autocapitalize:"none",class:"full-width"},null,8,["modelValue"]),a(C,{id:"password",type:c.value?"password":"text","bg-color":"orange-1",outlined:"",label:"Password",name:"password",modelValue:l.value,"onUpdate:modelValue":t[2]||(t[2]=g=>l.value=g),required:"",autocomplete:"off",autocapitalize:"none",hint:"Password atau kata sandi",class:"full-width"},{append:n(()=>[a(O,{name:c.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=g=>c.value=!c.value)},null,8,["name"])]),_:1},8,["type","modelValue"]),a(h,{type:"submit",class:"full-width q-pa-sm text-orange-10",color:"orange-4",label:"Login"}),a(U,{class:"text-orange-10 text-center bg-orange-1 q-pa-sm",flat:""},{default:n(()=>[...t[4]||(t[4]=[m(" Belum punya akun atau lupa password? ",-1),e("br",null,null,-1),m(" Hubungi Admin! ",-1)])]),_:1}),i.value?(f(),x(E,{key:0,color:"orange-12",size:"14em",class:"absolute-center"})):b("",!0)])],32)])])]))}};export{ee as default};
